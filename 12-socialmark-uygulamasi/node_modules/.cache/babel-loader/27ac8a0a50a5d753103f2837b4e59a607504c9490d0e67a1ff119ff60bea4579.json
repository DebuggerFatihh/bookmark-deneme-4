{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from 'vuex';\nexport default {\n  data() {\n    return {\n      categoryList: [],\n      userData: {\n        title: null,\n        url: null,\n        categoryId: null,\n        description: null\n      }\n    };\n  },\n  mounted() {\n    this.$appAxios.get(\"/categories\").then(category_response => {\n      //console.log('category_response', category_response)\n      this.categoryList = category_response?.data || [];\n    });\n  },\n  methods: {\n    onSave() {\n      console.log(this.userData.categoryId);\n      const saveData = {\n        ...this.userData,\n        userId: this._getCurrentUser?.id,\n        created_at: new Date()\n      };\n      this.$appAxios.post(\"/bookmarks\", saveData).then(save_bookmark_response => {\n        console.log(save_bookmark_response);\n        Object.keys(this.userData)?.forEach(field => this.userData[field] = null);\n        this.$socket.emit(\"NEW_BOOKMARK_EVENT\", {\n          ...save_bookmark_response.data,\n          user: this_getCurrentUser\n        });\n        this.$router.push({\n          name: 'HomePage'\n        });\n      }); //userdata objesi gidicek \n    }\n  },\n\n  computed: {\n    ...mapGetters([\"_getCurrentUser\"])\n  }\n};","map":{"version":3,"names":["mapGetters","data","categoryList","userData","title","url","categoryId","description","mounted","$appAxios","get","then","category_response","methods","onSave","console","log","saveData","userId","_getCurrentUser","id","created_at","Date","post","save_bookmark_response","Object","keys","forEach","field","$socket","emit","user","this_getCurrentUser","$router","push","name","computed"],"sources":["C:\\Users\\Lenovo\\Desktop\\vue\\6-Booklike\\ders-8-socialmark-uygulamasi\\src\\views\\NewBookmark.vue"],"sourcesContent":["<template>\r\n       <div class=\"login_register_container\">\r\n      <h3 class=\"text-2xl text-center mb-3\">Yeni Ekle</h3>\r\n      <input v-model=\"userData.title\" type=\"text\" placeholder=\"Başlık\" class=\"input mb-3\" />\r\n      <input v-model=\"userData.url\" type=\"text\" placeholder=\"URL\" class=\"input mb-3\" />\r\n      <select v-model=\"userData.categoryId\" class=\"input mb-3\">\r\n        <option disabled value=\"\" selected>Kategori</option>\r\n        <option v-for=\"category in categoryList\" :key=\"category.id\" :value=\"category.id\">{{category.name}}</option>\r\n      </select>\r\n      <textarea v-model=\"userData.description\" placeholder=\"Açıklama\" class=\"input mb-3\" cols=\"30\" rows=\"10\"></textarea>\r\n      <div class=\"flex items-center justify-end gap-x-1\">\r\n        <button @click=\"$router.push({name:'HomePage'})\" class=\"secondary-button\">İptal</button>\r\n        <button @click=\"onSave\" class=\"default-button\">Kaydet</button>\r\n      </div>\r\n    </div>\r\n \r\n\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default{\r\n  data(){\r\n    return{\r\n      categoryList:[],\r\n      userData:{\r\n        title:null,\r\n        url:null,\r\n        categoryId:null,\r\n        description:null\r\n      }\r\n    };\r\n  },\r\n  mounted(){\r\n    this.$appAxios.get(\"/categories\").then(category_response => {\r\n      //console.log('category_response', category_response)\r\n      this.categoryList = category_response?.data||[];\r\n    })\r\n  },\r\n  methods: {\r\n    onSave(){\r\n      console.log(this.userData.categoryId)\r\n      const saveData={\r\n        ...this.userData,\r\n        userId:this._getCurrentUser?.id,\r\n        created_at:new Date()\r\n      }\r\n      this.$appAxios.post(\"/bookmarks\",saveData).then(save_bookmark_response=>{\r\n        console.log(save_bookmark_response);\r\n        Object.keys(this.userData)?.forEach(field=>(this.userData[field]=null));\r\n       this.$socket.emit(\"NEW_BOOKMARK_EVENT\",{\r\n        ...save_bookmark_response.data,\r\n        user:this_getCurrentUser,\r\n       }); \r\n        this.$router.push({name:'HomePage'});\r\n      }) //userdata objesi gidicek \r\n    } \r\n  },\r\n  computed:{\r\n    ...mapGetters([\"_getCurrentUser\"])\r\n  }\r\n}\r\n</script>"],"mappings":";AAoBA,SAASA,UAAS,QAAS,MAAM;AAEjC,eAAc;EACZC,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJC,YAAY,EAAC,EAAE;MACfC,QAAQ,EAAC;QACPC,KAAK,EAAC,IAAI;QACVC,GAAG,EAAC,IAAI;QACRC,UAAU,EAAC,IAAI;QACfC,WAAW,EAAC;MACd;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAE;IACP,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC,CAACC,IAAI,CAACC,iBAAgB,IAAK;MAC1D;MACA,IAAI,CAACV,YAAW,GAAIU,iBAAiB,EAAEX,IAAI,IAAE,EAAE;IACjD,CAAC;EACH,CAAC;EACDY,OAAO,EAAE;IACPC,MAAMA,CAAA,EAAE;MACNC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACb,QAAQ,CAACG,UAAU;MACpC,MAAMW,QAAQ,GAAC;QACb,GAAG,IAAI,CAACd,QAAQ;QAChBe,MAAM,EAAC,IAAI,CAACC,eAAe,EAAEC,EAAE;QAC/BC,UAAU,EAAC,IAAIC,IAAI,CAAC;MACtB;MACA,IAAI,CAACb,SAAS,CAACc,IAAI,CAAC,YAAY,EAACN,QAAQ,CAAC,CAACN,IAAI,CAACa,sBAAsB,IAAE;QACtET,OAAO,CAACC,GAAG,CAACQ,sBAAsB,CAAC;QACnCC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACvB,QAAQ,CAAC,EAAEwB,OAAO,CAACC,KAAK,IAAG,IAAI,CAACzB,QAAQ,CAACyB,KAAK,CAAC,GAAC,IAAK,CAAC;QACxE,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,oBAAoB,EAAC;UACtC,GAAGN,sBAAsB,CAACvB,IAAI;UAC9B8B,IAAI,EAACC;QACN,CAAC,CAAC;QACD,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAACC,IAAI,EAAC;QAAU,CAAC,CAAC;MACtC,CAAC,GAAE;IACL;EACF,CAAC;;EACDC,QAAQ,EAAC;IACP,GAAGpC,UAAU,CAAC,CAAC,iBAAiB,CAAC;EACnC;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}