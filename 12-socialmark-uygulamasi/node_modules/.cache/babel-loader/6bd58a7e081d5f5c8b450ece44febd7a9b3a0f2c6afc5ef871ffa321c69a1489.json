{"ast":null,"code":"import { mapGetters } from 'vuex';\nexport default {\n  props: {\n    item: {\n      type: Object,\n      required: true,\n      default: () => {}\n    }\n  },\n  computed: {\n    categoryName() {\n      return this.item?.category.name || \"_\";\n    },\n    userName() {\n      return this.item?.user?.username || \"_\";\n    },\n    alreadyLiked() {\n      return this._userLikes?.indexOf(this.item.id) > -1;\n    },\n    ...mapGetters([\"_getCurrentUser\", \"_userLikes\"])\n  },\n  methods: {\n    likeItem() {\n      console.log('this._userLikes', this._userLikes);\n      let likes = [...this._userLikes];\n      if (!this.alreadyLiked) {\n        likes = [...likes, this.item.id];\n      } else {\n        likes = likes.filter(l => l != this.item.id);\n      }\n      this.$appAxios.patch(`/users/${this._getCurrentUser.id}`, {\n        likes\n      }).then(like_response => {\n        console.log(like_response);\n        this.$store.commit(\"setLikes\", likes);\n      }); //güncelleme yapılcak\n    },\n\n    bookmarkItem() {\n      let bookmarks = [...this._userLikes];\n      if (!this.alreadyLiked) {\n        bookmarks = [...bookmarks, this.item.id];\n      } else {\n        bookmarks = bookmarks.filter(l => l != this.item.id);\n      }\n      this.$appAxios.patch(`/users/${this._getCurrentUser.id}`, {\n        likes\n      }).then(like_response => {\n        console.log(like_response);\n        this.$store.commit(\"setLikes\", likes);\n      }); //güncelleme yapılcak\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","props","item","type","Object","required","default","computed","categoryName","category","name","userName","user","username","alreadyLiked","_userLikes","indexOf","id","methods","likeItem","console","log","likes","filter","l","$appAxios","patch","_getCurrentUser","then","like_response","$store","commit","bookmarkItem","bookmarks"],"sources":["C:\\Users\\Lenovo\\Desktop\\vue\\6-Booklike\\ders-6-socialmark-uygulamasi\\src\\components\\Shared\\appBookmarkList\\BookmarkListItem.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg-white flex flex-col gap-x-3 rounded-md shadow-sm\">\r\n            <div class=\"p-3\">\r\n              <a :href=\"item.url\" target=\"_blank\" class=\"hover:text-black font-bold text-l mb-1 text-gray-600 text-center\">{{item.title||\"-\"}}</a>\r\n              <div class=\"flex items-center justify-center mt-2 gap-x-1\">\r\n                <button @click=\"likeItem\"  class=\"like-btn group\" :class=\"{'bookmark-item-active': alreadyLiked}\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"fill-current group-hover:text-white\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n                    <path d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\" fill=\"none\" />\r\n                    <path d=\"M9 21h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.58 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2zM9 9l4.34-4.34L12 10h9v2l-3 7H9V9zM1 9h4v12H1z\" />\r\n                  </svg>\r\n                </button>\r\n                <button class=\"bookmark-btn group bookmark-item-active\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"fill-current group-hover:text-white\" enable-background=\"new 0 0 24 24\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\r\n                    <rect fill=\"none\" />\r\n                    <path d=\"M17,11v6.97l-5-2.14l-5,2.14V5h6V3H7C5.9,3,5,3.9,5,5v16l7-3l7,3V11H17z M21,7h-2v2h-2V7h-2V5h2V3h2v2h2V7z\" />\r\n                  </svg>\r\n                </button>\r\n                <div class=\"relative group\">\r\n                  <button class=\"details-btn !-z-[1] group\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"fill-current group-hover:text-gray-700\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n                      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n                      <path d=\"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59-.58.58V4h16v12zM6 12h2v2H6zm0-3h2v2H6zm0-3h2v2H6zm4 6h5v2h-5zm0-3h8v2h-8zm0-3h8v2h-8z\" />\r\n                    </svg>\r\n                    <p class=\"details-container\">{{ item.description }}</p>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class=\"text-xs text-gray-400 mt-2 flex justify-between\">\r\n                <a href=\"#\" class=\"hover:text-black\"> {{userName}} </a>\r\n                <span>14 May</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"bg-red-200 p-1 text-red-900 text-center text-sm\">{{ categoryName }}</div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import { mapGetters} from 'vuex';\r\nexport default{\r\n  props:{\r\n    item:{\r\n      type:Object,\r\n      required:true,  \r\n      default:()=>{}\r\n    }\r\n  },\r\n  computed:{\r\n    categoryName(){\r\n      return this.item?.category.name || \"_\";\r\n    },\r\n    userName(){\r\n      return this.item?.user?.username || \"_\";\r\n    },\r\n    alreadyLiked(){\r\n      return this._userLikes?.indexOf(this.item.id)>-1 \r\n    \r\n    },\r\n    ...mapGetters([\"_getCurrentUser\",\"_userLikes\"])\r\n  },\r\n  methods: {\r\n    likeItem(){\r\n      console.log('this._userLikes', this._userLikes)\r\n      let likes =[... this._userLikes,];\r\n\r\n      if(!this.alreadyLiked){\r\n        likes =[...likes,this.item.id  ];\r\n      }else{\r\n        likes=likes.filter(l=>l!=this.item.id)\r\n      }\r\n\r\n\r\n      this.$appAxios.patch(`/users/${this._getCurrentUser.id}`,{likes}).then((like_response) => {\r\n          console.log(like_response)\r\n          \r\n          this.$store.commit(\"setLikes\",likes)\r\n       });//güncelleme yapılcak\r\n    },\r\n    bookmarkItem(){\r\n      let bookmarks =[... this._userLikes,];\r\n\r\n      if(!this.alreadyLiked){\r\n        bookmarks =[...bookmarks,this.item.id  ];\r\n      }else{\r\n        bookmarks=bookmarks.filter(l=>l!=this.item.id)\r\n      }\r\n\r\n      this.$appAxios.patch(`/users/${this._getCurrentUser.id}`,{likes}).then((like_response) => {\r\n          console.log(like_response)\r\n          \r\n          this.$store.commit(\"setLikes\",likes)\r\n       });//güncelleme yapılcak\r\n    },\r\n  },\r\n}\r\n</script>"],"mappings":"AAoCE,SAASA,UAAU,QAAO,MAAM;AAClC,eAAc;EACZC,KAAK,EAAC;IACJC,IAAI,EAAC;MACHC,IAAI,EAACC,MAAM;MACXC,QAAQ,EAAC,IAAI;MACbC,OAAO,EAACA,CAAA,KAAI,CAAC;IACf;EACF,CAAC;EACDC,QAAQ,EAAC;IACPC,YAAYA,CAAA,EAAE;MACZ,OAAO,IAAI,CAACN,IAAI,EAAEO,QAAQ,CAACC,IAAG,IAAK,GAAG;IACxC,CAAC;IACDC,QAAQA,CAAA,EAAE;MACR,OAAO,IAAI,CAACT,IAAI,EAAEU,IAAI,EAAEC,QAAO,IAAK,GAAG;IACzC,CAAC;IACDC,YAAYA,CAAA,EAAE;MACZ,OAAO,IAAI,CAACC,UAAU,EAAEC,OAAO,CAAC,IAAI,CAACd,IAAI,CAACe,EAAE,CAAC,GAAC,CAAC;IAEjD,CAAC;IACD,GAAGjB,UAAU,CAAC,CAAC,iBAAiB,EAAC,YAAY,CAAC;EAChD,CAAC;EACDkB,OAAO,EAAE;IACPC,QAAQA,CAAA,EAAE;MACRC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAACN,UAAU;MAC9C,IAAIO,KAAI,GAAG,CAAC,GAAI,IAAI,CAACP,UAAU,CAAE;MAEjC,IAAG,CAAC,IAAI,CAACD,YAAY,EAAC;QACpBQ,KAAI,GAAG,CAAC,GAAGA,KAAK,EAAC,IAAI,CAACpB,IAAI,CAACe,EAAC,CAAI;MAClC,CAAC,MAAI;QACHK,KAAK,GAACA,KAAK,CAACC,MAAM,CAACC,CAAC,IAAEA,CAAC,IAAE,IAAI,CAACtB,IAAI,CAACe,EAAE;MACvC;MAGA,IAAI,CAACQ,SAAS,CAACC,KAAK,CAAE,UAAS,IAAI,CAACC,eAAe,CAACV,EAAG,EAAC,EAAC;QAACK;MAAK,CAAC,CAAC,CAACM,IAAI,CAAEC,aAAa,IAAK;QACtFT,OAAO,CAACC,GAAG,CAACQ,aAAa;QAEzB,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,UAAU,EAACT,KAAK;MACtC,CAAC,CAAC,CAAC;IACN,CAAC;;IACDU,YAAYA,CAAA,EAAE;MACZ,IAAIC,SAAQ,GAAG,CAAC,GAAI,IAAI,CAAClB,UAAU,CAAE;MAErC,IAAG,CAAC,IAAI,CAACD,YAAY,EAAC;QACpBmB,SAAQ,GAAG,CAAC,GAAGA,SAAS,EAAC,IAAI,CAAC/B,IAAI,CAACe,EAAC,CAAI;MAC1C,CAAC,MAAI;QACHgB,SAAS,GAACA,SAAS,CAACV,MAAM,CAACC,CAAC,IAAEA,CAAC,IAAE,IAAI,CAACtB,IAAI,CAACe,EAAE;MAC/C;MAEA,IAAI,CAACQ,SAAS,CAACC,KAAK,CAAE,UAAS,IAAI,CAACC,eAAe,CAACV,EAAG,EAAC,EAAC;QAACK;MAAK,CAAC,CAAC,CAACM,IAAI,CAAEC,aAAa,IAAK;QACtFT,OAAO,CAACC,GAAG,CAACQ,aAAa;QAEzB,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,UAAU,EAACT,KAAK;MACtC,CAAC,CAAC,CAAC;IACN;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}