{"ast":null,"code":"import Sidebar from \"../components/Home/SideBar\";\nexport default {\n  components: {\n    Sidebar\n  },\n  data() {\n    return {\n      bookmarkList: []\n    };\n  },\n  mounted() {\n    this.$socket.on(\"NEW_BOOKMARK_ADDED\", () => {\n      console.log(\"çalışti\");\n    });\n  },\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      this.$appAxios.get(\"/bookmarks?/expand=category&_expand=user\").then(bookmark_list_response => {\n        console.log(\"bookmark_list_response:>>\", bookmark_list_response);\n        this.bookmarkList = bookmark_list_response?.data || [];\n      });\n      this.$appAxios.get(\"/user_bookmarks/?_expand=bookmark&_expand=user\").then(user_bookmark_response => {\n        console.log(\"user_bookmark_response:>>\", user_bookmark_response);\n        this.$store.commint(\"setBookmarks\", user_bookmark_response?.data);\n      });\n      this.$appAxios.get(\"/user_likes/?_expand=bookmark&_expand=user\").then(user_user_likes_response => {\n        this.$store.commit(\"setLikes\", user_likes_response?.data);\n      });\n    },\n    updateBookmarkList(categoryId) {\n      const url = categoryId ? `/bookmarks?_expand=category&_expand=user&categoryId=${categoryId}` : `/bookmarks?_expand=category&_expand=user`;\n      this.$appAxios.get(url).then(bookmark_list_response => {\n        this.bookmarkList = bookmark_list_response?.data || [];\n      });\n    }\n  }\n};","map":{"version":3,"names":["Sidebar","components","data","bookmarkList","mounted","$socket","on","console","log","created","fetchData","methods","$appAxios","get","then","bookmark_list_response","user_bookmark_response","$store","commint","user_user_likes_response","commit","user_likes_response","updateBookmarkList","categoryId","url"],"sources":["C:\\Users\\Lenovo\\Desktop\\vue\\6-Booklike\\ders-8-socialmark-uygulamasi\\src\\views\\Home.vue"],"sourcesContent":["<template>\r\n    <AppHeader/>\r\n    <div class=\"flex flex-row\">\r\n        <Sidebar @category-changed=\"updateBookmarkList\"/>\r\n        <appBookmarkList v-if=\"bookmarkList.length>0\" :items=\"bookmarkList\"/>\r\n       <div v-else> Bookmark Bulunmamaktadır</div>\r\n    </div>\r\n \r\n</template>\r\n\r\n<script>\r\nimport Sidebar from \"../components/Home/SideBar\"\r\n\r\nexport default {\r\n    components:{\r\n        Sidebar\r\n    },\r\n    data(){\r\n        return{\r\n            bookmarkList:[]\r\n        }\r\n     },\r\n     mounted(){\r\n        this.$socket.on(\"NEW_BOOKMARK_ADDED\",()=>{\r\n            console.log(\"çalışti\")\r\n        })\r\n     },\r\n    created(){\r\n        this.fetchData();\r\n\r\n       \r\n    },\r\n    methods:{\r\n        fetchData(){\r\n            this.$appAxios.get(\"/bookmarks?/expand=category&_expand=user\").then(bookmark_list_response=>{\r\n                console.log(\"bookmark_list_response:>>\",bookmark_list_response);\r\n                this.bookmarkList=bookmark_list_response?.data||[];\r\n            });\r\n            \r\n            this.$appAxios.get(\"/user_bookmarks/?_expand=bookmark&_expand=user\").then(user_bookmark_response=>{\r\n                console.log(\"user_bookmark_response:>>\",user_bookmark_response);\r\n                this.$store.commint(\"setBookmarks\",user_bookmark_response?.data);\r\n            });\r\n            \r\n            this.$appAxios.get(\"/user_likes/?_expand=bookmark&_expand=user\").then(user_user_likes_response=>{\r\n                this.$store.commit(\"setLikes\",user_likes_response?.data);\r\n            });\r\n             \r\n        },\r\n        updateBookmarkList(categoryId){\r\n            const url=categoryId?`/bookmarks?_expand=category&_expand=user&categoryId=${categoryId}`:`/bookmarks?_expand=category&_expand=user`\r\n            this.$appAxios.get(url).then(bookmark_list_response=>{\r\n                this.bookmarkList=bookmark_list_response?.data||[];\r\n            });   \r\n        },\r\n\r\n    }\r\n}\r\n</script>\r\n"],"mappings":"AAWA,OAAOA,OAAM,MAAO,4BAA2B;AAE/C,eAAe;EACXC,UAAU,EAAC;IACPD;EACJ,CAAC;EACDE,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,YAAY,EAAC;IACjB;EACH,CAAC;EACDC,OAAOA,CAAA,EAAE;IACN,IAAI,CAACC,OAAO,CAACC,EAAE,CAAC,oBAAoB,EAAC,MAAI;MACrCC,OAAO,CAACC,GAAG,CAAC,SAAS;IACzB,CAAC;EACJ,CAAC;EACFC,OAAOA,CAAA,EAAE;IACL,IAAI,CAACC,SAAS,CAAC,CAAC;EAGpB,CAAC;EACDC,OAAO,EAAC;IACJD,SAASA,CAAA,EAAE;MACP,IAAI,CAACE,SAAS,CAACC,GAAG,CAAC,0CAA0C,CAAC,CAACC,IAAI,CAACC,sBAAsB,IAAE;QACxFR,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAACO,sBAAsB,CAAC;QAC/D,IAAI,CAACZ,YAAY,GAACY,sBAAsB,EAAEb,IAAI,IAAE,EAAE;MACtD,CAAC,CAAC;MAEF,IAAI,CAACU,SAAS,CAACC,GAAG,CAAC,gDAAgD,CAAC,CAACC,IAAI,CAACE,sBAAsB,IAAE;QAC9FT,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAACQ,sBAAsB,CAAC;QAC/D,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,cAAc,EAACF,sBAAsB,EAAEd,IAAI,CAAC;MACpE,CAAC,CAAC;MAEF,IAAI,CAACU,SAAS,CAACC,GAAG,CAAC,4CAA4C,CAAC,CAACC,IAAI,CAACK,wBAAwB,IAAE;QAC5F,IAAI,CAACF,MAAM,CAACG,MAAM,CAAC,UAAU,EAACC,mBAAmB,EAAEnB,IAAI,CAAC;MAC5D,CAAC,CAAC;IAEN,CAAC;IACDoB,kBAAkBA,CAACC,UAAU,EAAC;MAC1B,MAAMC,GAAG,GAACD,UAAU,GAAE,uDAAsDA,UAAW,EAAC,GAAE,0CAAwC;MAClI,IAAI,CAACX,SAAS,CAACC,GAAG,CAACW,GAAG,CAAC,CAACV,IAAI,CAACC,sBAAsB,IAAE;QACjD,IAAI,CAACZ,YAAY,GAACY,sBAAsB,EAAEb,IAAI,IAAE,EAAE;MACtD,CAAC,CAAC;IACN;EAEJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}