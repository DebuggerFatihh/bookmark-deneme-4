{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      categoryList: [],\n      userData: {\n        title: null,\n        url: null,\n        categoryId: null,\n        description: null\n      }\n    };\n  },\n  mounted() {\n    this.$appAxios.get(\"/categories\").then(category_response => {\n      // console.log(category_response);\n      this.categoryList = category_response?.data || [];\n    });\n\n    // setTimeout(() => {\n    //   console.log(this.$refs.title);\n    // }, 100);\n\n    // this.$nextTick(() => {\n    //   console.log(this.$refs.title);\n    // })\n    // console.dir(this.$refs.title);\n    // this.$refs.title.focus();\n  },\n\n  methods: {\n    onSave() {\n      const saveData = {\n        ...this.userData,\n        userId: this._getCurrentUser?.id,\n        created_at: new Date()\n      };\n      this.$appAxios.post(\"/bookmarks\", saveData).then(save_bookmark_response => {\n        console.log(save_bookmark_response);\n        Object.keys(this.userData)?.forEach(field => this.userData[field] = null);\n        const socketData = {\n          ...save_bookmark_response.data,\n          user: this._getCurrentUser,\n          category: this.categoryList?.find(c => c.id === saveData.categoryId)\n        };\n        this.$socket.emit(\"NEW_BOOKMARK_EVENT\", socketData);\n        this.$router.push({\n          name: \"HomePage\"\n        });\n      });\n    }\n  },\n  computed: {\n    ...mapGetters([\"_getCurrentUser\"])\n  }\n};","map":{"version":3,"names":["mapGetters","data","categoryList","userData","title","url","categoryId","description","mounted","$appAxios","get","then","category_response","methods","onSave","saveData","userId","_getCurrentUser","id","created_at","Date","post","save_bookmark_response","console","log","Object","keys","forEach","field","socketData","user","category","find","c","$socket","emit","$router","push","name","computed"],"sources":["C:\\Users\\Lenovo\\Desktop\\vue\\6-Booklike\\ders-8-socialmark-uygulamasi\\src\\views\\NewBookmark.vue"],"sourcesContent":["<template>\r\n  <div class=\"login_register_container\">\r\n    <h3 class=\"text-2xl text-center mb-3\">Yeni Ekle</h3>\r\n    <input ref=\"title\" v-model=\"userData.title\" type=\"text\" placeholder=\"Başlık\" class=\"input mb-3\" />\r\n    <input v-model=\"userData.url\" type=\"text\" placeholder=\"URL\" class=\"input mb-3\" />\r\n    <select v-model=\"userData.categoryId\" class=\"input mb-3\">\r\n      <option disabled value=\"\" selected>Kategori</option>\r\n      <option v-for=\"category in categoryList\" :key=\"category.id\" :value=\"category.id\">{{ category.name }} </option>\r\n    </select>\r\n    <textarea v-model=\"userData.description\" placeholder=\"Açıklama\" class=\"input mb-3\" cols=\"30\" rows=\"10\"></textarea>\r\n    <div class=\"flex items-center justify-end gap-x-1\">\r\n      <button @click=\"$router.push({ name: 'HomePage' })\" class=\"secondary-button\">İptal</button>\r\n      <button @click=\"onSave\" class=\"default-button\">Kaydet</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      categoryList: [],\r\n      userData: {\r\n        title: null,\r\n        url: null,\r\n        categoryId: null,\r\n        description: null\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$appAxios.get(\"/categories\").then(category_response => {\r\n      // console.log(category_response);\r\n      this.categoryList = category_response?.data || [];\r\n    });\r\n\r\n    // setTimeout(() => {\r\n    //   console.log(this.$refs.title);\r\n    // }, 100);\r\n\r\n    // this.$nextTick(() => {\r\n    //   console.log(this.$refs.title);\r\n    // })\r\n    // console.dir(this.$refs.title);\r\n    // this.$refs.title.focus();\r\n  },\r\n  methods: {\r\n    onSave() {\r\n      const saveData = {\r\n        ...this.userData,\r\n        userId: this._getCurrentUser?.id,\r\n        created_at: new Date()\r\n      };\r\n      this.$appAxios.post(\"/bookmarks\", saveData).then(save_bookmark_response => {\r\n        console.log(save_bookmark_response);\r\n        Object.keys(this.userData)?.forEach(field => (this.userData[field] = null));\r\n        const socketData = {\r\n          ...save_bookmark_response.data,\r\n          user: this._getCurrentUser,\r\n          category: this.categoryList?.find(c => c.id === saveData.categoryId)\r\n        };\r\n        this.$socket.emit(\"NEW_BOOKMARK_EVENT\", socketData);\r\n        this.$router.push({ name: \"HomePage\" });\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"_getCurrentUser\"])\r\n  }\r\n};\r\n</script>\r\n"],"mappings":";AAiBA,SAASA,UAAS,QAAS,MAAM;AACjC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,EAAE;MAChBC,QAAQ,EAAE;QACRC,KAAK,EAAE,IAAI;QACXC,GAAG,EAAE,IAAI;QACTC,UAAU,EAAE,IAAI;QAChBC,WAAW,EAAE;MACf;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC,CAACC,IAAI,CAACC,iBAAgB,IAAK;MAC1D;MACA,IAAI,CAACV,YAAW,GAAIU,iBAAiB,EAAEX,IAAG,IAAK,EAAE;IACnD,CAAC,CAAC;;IAEF;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;EACF,CAAC;;EACDY,OAAO,EAAE;IACPC,MAAMA,CAAA,EAAG;MACP,MAAMC,QAAO,GAAI;QACf,GAAG,IAAI,CAACZ,QAAQ;QAChBa,MAAM,EAAE,IAAI,CAACC,eAAe,EAAEC,EAAE;QAChCC,UAAU,EAAE,IAAIC,IAAI,CAAC;MACvB,CAAC;MACD,IAAI,CAACX,SAAS,CAACY,IAAI,CAAC,YAAY,EAAEN,QAAQ,CAAC,CAACJ,IAAI,CAACW,sBAAqB,IAAK;QACzEC,OAAO,CAACC,GAAG,CAACF,sBAAsB,CAAC;QACnCG,MAAM,CAACC,IAAI,CAAC,IAAI,CAACvB,QAAQ,CAAC,EAAEwB,OAAO,CAACC,KAAI,IAAM,IAAI,CAACzB,QAAQ,CAACyB,KAAK,IAAI,IAAK,CAAC;QAC3E,MAAMC,UAAS,GAAI;UACjB,GAAGP,sBAAsB,CAACrB,IAAI;UAC9B6B,IAAI,EAAE,IAAI,CAACb,eAAe;UAC1Bc,QAAQ,EAAE,IAAI,CAAC7B,YAAY,EAAE8B,IAAI,CAACC,CAAA,IAAKA,CAAC,CAACf,EAAC,KAAMH,QAAQ,CAACT,UAAU;QACrE,CAAC;QACD,IAAI,CAAC4B,OAAO,CAACC,IAAI,CAAC,oBAAoB,EAAEN,UAAU,CAAC;QACnD,IAAI,CAACO,OAAO,CAACC,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAW,CAAC,CAAC;MACzC,CAAC,CAAC;IACJ;EACF,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGvC,UAAU,CAAC,CAAC,iBAAiB,CAAC;EACnC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}